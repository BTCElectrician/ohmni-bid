# Status

- Phase: implementation
- Review: ChatGPT 5.2 Pro response integrated; doc reviewed for completeness/correctness/trade gaps
- Guardrails: minimal code, maximize SDKs/services, keep files under ~500 lines
- Product notes: Stripe billing integration planned; spreadsheet UI + Excel export stay in scope
- Review packet: `docs/Ohmni_Bid_Final_Review.md` updated with external response + agent review notes
- Build progress:
  - Standardized embeddings default to `text-embedding-3-small`.
  - Added org/membership + walkthrough schema and RLS in `supabase/schema.sql`.
  - Added Supabase auth gating and estimate persistence in the UI.
  - Added walkthrough UI plus `/api/transcribe` and `/api/vision-count` routes.
  - Added assistant draft takeoff panel and `/api/draft-items` endpoint for reviewable line items.
  - Added walkthrough latest-note fetch and estimate chat panel using `/api/ai`.
  - Draft-applied line items now retain `pricing_item_id` when available.
  - Refreshed UI styling with new typography, glass panels, and gradient backgrounds.
  - Archived legacy assets and prior integrations under `legacy/`.
  - Added embeddings backfill script for `pricing_items`.
  - Added one-brain Supabase setup doc and a single-command schema apply script.
  - Added pricing extraction + import scripts with stable `external_ref` support.
- Commit log (ahead of origin/main):
  - f68f106 feat(estimate): persist pricing item ids on line items
  - 0c80bbd feat(chat): add estimator chat panel and latest note fetch
  - 307897b feat(embeddings): add backfill script and update docs
  - bfcb418 feat(estimate): add assistant draft panel and draft-items API
  - 9f757ba Archive legacy assets and register model docs
  - da32c0c Keep Next.js tsconfig updates
  - f92a884 Implement chromium owl theme and walkthrough MVP
- Next steps:
  - Apply `supabase/schema.sql` changes in the Supabase project and confirm RLS policies.
  - Create the `walkthrough` storage bucket (or set `WALKTHROUGH_BUCKET`).
  - Set OpenAI env vars for transcription/vision models in deployment.
  - Run `npm run embeddings:backfill` to populate 1536-dim embeddings.
  - Push local commits to origin/main when ready.
